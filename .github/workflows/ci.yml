name: CI
on:
  push:
    branches:
      - main

jobs:
  build-deploy:
    runs-on: ubuntu-22.04
    env:
      NODE_OPTIONS: --max_old_space_size=8192
    steps:
      - uses: actions/checkout@v3
        with:
          submodules: true

      - uses: actions/setup-node@v3
        with:
          node-version: 16

      - run: npm install
      - run: npm run build
      - run: npm install
      # - run: npm run build:icons


      - name: build icons ad
        working-directory: icons/ad
        run: npm run build


      - name: build icons ae
        working-directory: icons/ae
        run: npm run build


      - name: build icons bi
        working-directory: icons/bi
        run: npm run build

      - name: build icons bs
        working-directory: icons/bs
        run: npm run build

      - name: build icons bts
        working-directory: icons/bts
        run: npm run build

      - name: build icons ccp
        working-directory: icons/ccp
        run: npm run build

      - name: build icons cg
        working-directory: icons/cg
        run: npm run build

      - name: build icons ci
        working-directory: icons/ci
        run: npm run build

      - name: build icons di
        working-directory: icons/di
        run: npm run build

      - name: build icons ei
        working-directory: icons/ei
        run: npm run build

      - name: build icons ev
        working-directory: icons/ev
        run: npm run build

      - name: build icons fc
        working-directory: icons/fc
        run: npm run build

      - name: build icons fa
        working-directory: icons/fa
        run: npm run build

      - name: build icons fd
        working-directory: icons/fd
        run: npm run build

      - name: build icons fg
        working-directory: icons/fg
        run: npm run build

      - name: build icons fi
        working-directory: icons/fi
        run: npm run build

      - name: build icons gi
        working-directory: icons/gi
        run: npm run build

      - name: build icons go
        working-directory: icons/go
        run: npm run build

      - name: build icons gr
        working-directory: icons/gr
        run: npm run build

      - name: build icons hi
        working-directory: icons/hi
        run: npm run build

      - name: build icons ic
        working-directory: icons/ic
        run: npm run build

      - name: build icons ii
        working-directory: icons/ii
        run: npm run build

      - name: build icons ik
        working-directory: icons/ik
        run: npm run build

      - name: build icons io
        working-directory: icons/io
        run: npm run build

      - name: build icons ir
        working-directory: icons/ir
        run: npm run build

      - name: build icons ji
        working-directory: icons/ji
        run: npm run build

      - name: build icons lg
        working-directory: icons/lg
        run: npm run build

      - name: build icons lu
        working-directory: icons/lu
        run: npm run build

      - name: build icons md
        working-directory: icons/md
        run: npm run build

      - name: build icons mi
        working-directory: icons/mi
        run: npm run build

      - name: build icons mp
        working-directory: icons/mp
        run: npm run build

      - name: build icons pk
        working-directory: icons/pk
        run: npm run build

      - name: build icons ri
        working-directory: icons/ri
        run: npm run build

      - name: build icons scwi
        working-directory: icons/scwi
        run: npm run build

      - name: build icons si
        working-directory: icons/si
        run: npm run build

      - name: build icons sti
        working-directory: icons/sti
        run: npm run build

      - name: build icons tb
        working-directory: icons/tb
        run: npm run build

      - name: build icons ti
        working-directory: icons/ti
        run: npm run build

      - name: build icons tn
        working-directory: icons/tn
        run: npm run build

      - name: build icons uiw
        working-directory: icons/uiw
        run: npm run build

      - name: build icons vl
        working-directory: icons/vl
        run: npm run build

      - name: build icons vsc
        working-directory: icons/vsc
        run: npm run build

      - name: build icons vv
        working-directory: icons/vv
        run: npm run build

      - name: build icons wi
        working-directory: icons/wi
        run: npm run build

      - name: build webiste
        working-directory: www
        run: npm run build

      - name: Generate Contributors Images
        uses: jaywcjlove/github-action-contributors@main
        with:
          filter-author: (renovate\[bot\]|renovate-bot|dependabot\[bot\])
          output: www/build/CONTRIBUTORS.svg
          avatarSize: 42

      - name: Create Tag
        id: create_tag
        uses: jaywcjlove/create-tag-action@v1.3.8
        with:
          package-path: ./core/package.json

      - name: Generate Changelog
        id: changelog
        uses: jaywcjlove/changelog-generator@v1.5.7
        with:
          head-ref: ${{steps.create_tag.outputs.version}}
          filter-author: (renovate-bot|Renovate Bot)
          filter: '[R|r]elease[d]\s+[v|V]\d(\.\d+){0,2}'

      - name: Create webiste document
        working-directory: www/build
        run: |
          cat > README.md << EOF
          IconGo Website
          ===

          [![npm version](https://img.shields.io/npm/v/icongo.svg)](https://www.npmjs.com/package/icongo)
          [![Github](https://img.shields.io/github/stars/jaywcjlove/icongo?logo=github)](https://github.com/jaywcjlove/icongo)
          [![CI](https://github.com/jaywcjlove/icongo/actions/workflows/ci.yml/badge.svg)](https://github.com/jaywcjlove/icongo/actions/workflows/ci.yml)
          [![Docker Image Version (latest by date)](https://img.shields.io/docker/v/wcjiang/icongo?logo=docker)](https://hub.docker.com/r/wcjiang/icongo)
          [![Docker Image Size (latest by date)](https://img.shields.io/docker/image-size/wcjiang/icongo?logo=docker)](https://hub.docker.com/r/wcjiang/icongo)

          Easily include popular icons in your React projects and provide an easy tool to convert `svg` into React components.

          ## License

          Licensed under the MIT License.
          EOF

      - name: Deploy
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          commit_message: ${{steps.create_tag.outputs.version}} ${{ github.event.head_commit.message }}
          user_name: 'github-actions[bot]'
          user_email: 'github-actions[bot]@users.noreply.github.com'
          publish_branch: gh-pages
          publish_dir: ./www/build

      - name: Deploy to icongo.github.io Repo
        uses: peaceiris/actions-gh-pages@v3
        with:
          user_name: 'github-actions[bot]'
          user_email: 'github-actions[bot]@users.noreply.github.com'
          commit_message: ${{steps.create_tag.outputs.version}} ${{ github.event.head_commit.message }}
          deploy_key: ${{ secrets.ACTIONS_DEPLOY_KEY }}
          # publish_branch: master
          publish_dir: ./www/build
          external_repository: icongo/icongo.github.io

      - name: Create Release
        uses: ncipollo/release-action@v1
        if: steps.create_tag.outputs.successful
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          name: ${{ steps.create_tag.outputs.version }}
          tag: ${{ steps.create_tag.outputs.version }}
          body: |
            Documentation ${{ steps.changelog.outputs.tag }}: https://raw.githack.com/jaywcjlove/icongo/${{ steps.changelog.outputs.gh-pages-short-hash }}/index.html  
            Comparing Changes: ${{ steps.changelog.outputs.compareurl }}  

            ${{ steps.changelog.outputs.changelog }}

      # Create Docker Image
      - name: Docker login
        run: docker login -u ${{ secrets.DOCKER_USER }} -p ${{ secrets.DOCKER_PASSWORD }}

      - name: Build docs image
        run: docker image build -t icongo .

      - name: Tags & Push image:latest
        run: |
          echo "outputs.tag - ${{ steps.changelog.outputs.version }}"
          docker tag icongo ${{ secrets.DOCKER_USER }}/icongo:latest
          docker push ${{ secrets.DOCKER_USER }}/icongo:latest

      - name: Tags & Push image
        if: steps.create_tag.outputs.successful
        run: |
          echo "outputs.tag - ${{ steps.changelog.outputs.version }}"
          docker tag icongo ${{ secrets.DOCKER_USER }}/icongo:${{steps.changelog.outputs.version}}
          docker push ${{ secrets.DOCKER_USER }}/icongo:${{steps.changelog.outputs.version}}

      # Create Docker Image in Github
      - name: Login to GitHub registry
        run: echo ${{ github.token }} | docker login ghcr.io -u ${{ github.actor }} --password-stdin

      - name: Build docker image
        run: docker build -t ghcr.io/jaywcjlove/icongo:latest .

      - name: Publish to GitHub registry
        run: docker push ghcr.io/jaywcjlove/icongo:latest

      - name: Tag docker image (beta) and publish to GitHub registry
        if: steps.create_tag.outputs.successful
        run: |
            echo "version: v${{ steps.changelog.outputs.version }}"
            docker tag ghcr.io/jaywcjlove/icongo:latest ghcr.io/jaywcjlove/icongo:${{steps.changelog.outputs.version}}
            docker push ghcr.io/jaywcjlove/icongo:${{steps.changelog.outputs.version}}


      - name: ðŸ“¦  icongo publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./core/package.json

      - name: ðŸ“¦  @icongo/ad publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ad/package.json

      - name: ðŸ“¦  @icongo/ae publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ae/package.json

      - name: ðŸ“¦  @icongo/bi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/bi/package.json

      - name: ðŸ“¦  @icongo/bs publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/bs/package.json

      - name: ðŸ“¦  @icongo/bts publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/bts/package.json

      - name: ðŸ“¦  @icongo/ccp publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ccp/package.json

      - name: ðŸ“¦  @icongo/cg publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/cg/package.json

      - name: ðŸ“¦  @icongo/ci publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ci/package.json

      - name: ðŸ“¦  @icongo/di publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/di/package.json

      - name: ðŸ“¦  @icongo/ei publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ei/package.json

      - name: ðŸ“¦  @icongo/ev publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ev/package.json

      - name: ðŸ“¦  @icongo/gi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/gi/package.json

      - name: ðŸ“¦  @icongo/hi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/hi/package.json

      - name: ðŸ“¦  @icongo/ic publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ic/package.json

      - name: ðŸ“¦  @icongo/ii publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ii/package.json

      - name: ðŸ“¦  @icongo/ik publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ik/package.json

      - name: ðŸ“¦  @icongo/io publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/io/package.json

      - name: ðŸ“¦  @icongo/ir publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ir/package.json

      - name: ðŸ“¦  @icongo/ji publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ji/package.json

      - name: ðŸ“¦  @icongo/lg publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/lg/package.json

      - name: ðŸ“¦  @icongo/lu publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/lu/package.json

      - name: ðŸ“¦  @icongo/go publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/go/package.json

      - name: ðŸ“¦  @icongo/gr publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/gr/package.json

      - name: ðŸ“¦  @icongo/md publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/md/package.json

      - name: ðŸ“¦  @icongo/mi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/mi/package.json

      - name: ðŸ“¦  @icongo/mp publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/mp/package.json

      - name: ðŸ“¦  @icongo/fc publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/fc/package.json

      - name: ðŸ“¦  @icongo/fa publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/fa/package.json

      - name: ðŸ“¦  @icongo/fg publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/fg/package.json

      - name: ðŸ“¦  @icongo/fd publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/fd/package.json

      - name: ðŸ“¦  @icongo/fi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/fi/package.json

      - name: ðŸ“¦  @icongo/scwi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/scwi/package.json

      - name: ðŸ“¦  @icongo/si publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/si/package.json

      - name: ðŸ“¦  @icongo/pk publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/pk/package.json

      - name: ðŸ“¦  @icongo/ri publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ri/package.json

      - name: ðŸ“¦  @icongo/sti publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/sti/package.json

      - name: ðŸ“¦  @icongo/tb publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/tb/package.json

      - name: ðŸ“¦  @icongo/ti publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/ti/package.json

      - name: ðŸ“¦  @icongo/tn publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/tn/package.json

      - name: ðŸ“¦  @icongo/uiw publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/uiw/package.json

      - name: ðŸ“¦  @icongo/vl publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/vl/package.json

      - name: ðŸ“¦  @icongo/vsc publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/vsc/package.json

      - name: ðŸ“¦  @icongo/vv publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/vv/package.json

      - name: ðŸ“¦  @icongo/wi publish to NPM
        uses: JS-DevTools/npm-publish@v1
        with:
          token: ${{ secrets.NPM_TOKEN }}
          package: ./icons/wi/package.json


    outputs:
      successful: ${{steps.create_tag.outputs.successful }}

  github-package:
    runs-on: ubuntu-18.04
    needs: build-deploy
    if: needs.build-deploy.outputs.successful
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 16
          registry-url: https://npm.pkg.github.com
          scope: '@jaywcjlove'

      - run: npm install
      - run: npm run build
      - run: npm install


      - name: build icons ad
        working-directory: icons/ad
        run: npm run build


      - name: build icons ae
        working-directory: icons/ae
        run: npm run build


      - name: build icons bi
        working-directory: icons/bi
        run: npm run build

      - name: build icons bs
        working-directory: icons/bs
        run: npm run build

      - name: build icons bts
        working-directory: icons/bts
        run: npm run build

      - name: build icons ccp
        working-directory: icons/ccp
        run: npm run build

      - name: build icons cg
        working-directory: icons/cg
        run: npm run build

      - name: build icons ci
        working-directory: icons/ci
        run: npm run build

      - name: build icons di
        working-directory: icons/di
        run: npm run build

      - name: build icons ei
        working-directory: icons/ei
        run: npm run build

      - name: build icons ev
        working-directory: icons/ev
        run: npm run build

      - name: build icons fa
        working-directory: icons/fa
        run: npm run build

      - name: build icons fc
        working-directory: icons/fc
        run: npm run build

      - name: build icons fd
        working-directory: icons/fd
        run: npm run build

      - name: build icons fg
        working-directory: icons/fg
        run: npm run build

      - name: build icons fi
        working-directory: icons/fi
        run: npm run build

      - name: build icons gi
        working-directory: icons/gi
        run: npm run build

      - name: build icons gr
        working-directory: icons/gr
        run: npm run build

      - name: build icons hi
        working-directory: icons/hi
        run: npm run build

      - name: build icons ic
        working-directory: icons/ic
        run: npm run build

      - name: build icons ii
        working-directory: icons/ii
        run: npm run build

      - name: build icons ik
        working-directory: icons/ik
        run: npm run build

      - name: build icons io
        working-directory: icons/io
        run: npm run build

      - name: build icons ir
        working-directory: icons/ir
        run: npm run build

      - name: build icons ji
        working-directory: icons/ji
        run: npm run build

      - name: build icons lg
        working-directory: icons/lg
        run: npm run build

      - name: build icons lu
        working-directory: icons/lu
        run: npm run build

      - name: build icons go
        working-directory: icons/go
        run: npm run build

      - name: build icons scwi
        working-directory: icons/scwi
        run: npm run build

      - name: build icons si
        working-directory: icons/si
        run: npm run build

      - name: build icons md
        working-directory: icons/md
        run: npm run build

      - name: build icons mi
        working-directory: icons/mi
        run: npm run build

      - name: build icons mp
        working-directory: icons/mp
        run: npm run build

      - name: build icons pk
        working-directory: icons/pk
        run: npm run build

      - name: build icons ri
        working-directory: icons/ri
        run: npm run build

      - name: build icons sti
        working-directory: icons/sti
        run: npm run build

      - name: build icons tb
        working-directory: icons/tb
        run: npm run build

      - name: build icons ti
        working-directory: icons/ti
        run: npm run build

      - name: build icons tn
        working-directory: icons/tn
        run: npm run build

      - name: build icons uiw
        working-directory: icons/uiw
        run: npm run build

      - name: build icons vl
        working-directory: icons/vl
        run: npm run build

      - name: build icons vsc
        working-directory: icons/vsc
        run: npm run build

      - name: build icons vv
        working-directory: icons/vv
        run: npm run build

      - name: build icons wi
        working-directory: icons/wi
        run: npm run build


      - name: "Modify icongo => @jaywcjlove/icongo"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: core/package.json
          data: |
            { "name": "@jaywcjlove/icongo" }
      - run: npm publish
        working-directory: core
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ad => @jaywcjlove/icongo-ad"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ad/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ad" }
      - run: npm publish
        working-directory: icons/ad
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ae => @jaywcjlove/icongo-ae"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ae/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ae" }
      - run: npm publish
        working-directory: icons/ae
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/bi => @jaywcjlove/icongo-bi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/bi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-bi" }
      - run: npm publish
        working-directory: icons/bi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/bs => @jaywcjlove/icongo-bs"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/bs/package.json
          data: |
            { "name": "@jaywcjlove/icongo-bs" }
      - run: npm publish
        working-directory: icons/bs
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/bts => @jaywcjlove/icongo-bts"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/bts/package.json
          data: |
            { "name": "@jaywcjlove/icongo-bts" }
      - run: npm publish
        working-directory: icons/bts
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ccp => @jaywcjlove/icongo-ccp"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ccp/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ccp" }
      - run: npm publish
        working-directory: icons/ccp
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/cg => @jaywcjlove/icongo-cg"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/cg/package.json
          data: |
            { "name": "@jaywcjlove/icongo-cg" }
      - run: npm publish
        working-directory: icons/cg
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ci => @jaywcjlove/icongo-ci"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ci/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ci" }
      - run: npm publish
        working-directory: icons/ci
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/di => @jaywcjlove/icongo-di"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/di/package.json
          data: |
            { "name": "@jaywcjlove/icongo-di" }
      - run: npm publish
        working-directory: icons/di
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ei => @jaywcjlove/icongo-ei"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ei/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ei" }
      - run: npm publish
        working-directory: icons/ei
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ev => @jaywcjlove/icongo-ev"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ev/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ev" }
      - run: npm publish
        working-directory: icons/ev
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/gi => @jaywcjlove/icongo-gi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/gi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-gi" }
      - run: npm publish
        working-directory: icons/gi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/go => @jaywcjlove/icongo-go"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/go/package.json
          data: |
            { "name": "@jaywcjlove/icongo-go" }
      - run: npm publish
        working-directory: icons/go
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/gr => @jaywcjlove/icongo-gr"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/gr/package.json
          data: |
            { "name": "@jaywcjlove/icongo-gr" }
      - run: npm publish
        working-directory: icons/gr
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/hi => @jaywcjlove/icongo-hi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/hi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-hi" }
      - run: npm publish
        working-directory: icons/hi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ic => @jaywcjlove/icongo-ic"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ic/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ic" }
      - run: npm publish
        working-directory: icons/ic
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ii => @jaywcjlove/icongo-ii"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ii/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ii" }
      - run: npm publish
        working-directory: icons/ii
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ik => @jaywcjlove/icongo-ik"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ik/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ik" }
      - run: npm publish
        working-directory: icons/ik
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/io => @jaywcjlove/icongo-io"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/io/package.json
          data: |
            { "name": "@jaywcjlove/icongo-io" }
      - run: npm publish
        working-directory: icons/io
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ir => @jaywcjlove/icongo-ir"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ir/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ir" }
      - run: npm publish
        working-directory: icons/ir
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ji => @jaywcjlove/icongo-ji"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ji/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ji" }
      - run: npm publish
        working-directory: icons/ji
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/lg => @jaywcjlove/icongo-lg"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/lg/package.json
          data: |
            { "name": "@jaywcjlove/icongo-lg" }
      - run: npm publish
        working-directory: icons/lg
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/lu => @jaywcjlove/icongo-lu"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/lu/package.json
          data: |
            { "name": "@jaywcjlove/icongo-lu" }
      - run: npm publish
        working-directory: icons/lu
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/md => @jaywcjlove/icongo-md"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/md/package.json
          data: |
            { "name": "@jaywcjlove/icongo-md" }
      - run: npm publish
        working-directory: icons/md
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/mi => @jaywcjlove/icongo-mi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/mi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-mi" }
      - run: npm publish
        working-directory: icons/mi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/mp => @jaywcjlove/icongo-mp"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/mp/package.json
          data: |
            { "name": "@jaywcjlove/icongo-mp" }
      - run: npm publish
        working-directory: icons/mp
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/fa => @jaywcjlove/icongo-fa"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/fa/package.json
          data: |
            { "name": "@jaywcjlove/icongo-fa" }
      - run: npm publish
        working-directory: icons/fa
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/fc => @jaywcjlove/icongo-fc"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/fc/package.json
          data: |
            { "name": "@jaywcjlove/icongo-fc" }
      - run: npm publish
        working-directory: icons/fc
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/fd => @jaywcjlove/icongo-fd"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/fd/package.json
          data: |
            { "name": "@jaywcjlove/icongo-fd" }
      - run: npm publish
        working-directory: icons/fd
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/fg => @jaywcjlove/icongo-fg"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/fg/package.json
          data: |
            { "name": "@jaywcjlove/icongo-fg" }
      - run: npm publish
        working-directory: icons/fg
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/fi => @jaywcjlove/icongo-fi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/fi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-fi" }
      - run: npm publish
        working-directory: icons/fi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/scwi => @jaywcjlove/icongo-scwi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/scwi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-scwi" }
      - run: npm publish
        working-directory: icons/scwi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/si => @jaywcjlove/icongo-si"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/si/package.json
          data: |
            { "name": "@jaywcjlove/icongo-si" }
      - run: npm publish
        working-directory: icons/si
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/pk => @jaywcjlove/icongo-pk"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/pk/package.json
          data: |
            { "name": "@jaywcjlove/icongo-pk" }
      - run: npm publish
        working-directory: icons/pk
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}

      - name: "Modify @icongo/ri => @jaywcjlove/icongo-ri"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ri/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ri" }
      - run: npm publish
        working-directory: icons/ri
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}

      - name: "Modify @icongo/sti => @jaywcjlove/icongo-sti"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/sti/package.json
          data: |
            { "name": "@jaywcjlove/icongo-sti" }
      - run: npm publish
        working-directory: icons/sti
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/tb => @jaywcjlove/icongo-tb"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/tb/package.json
          data: |
            { "name": "@jaywcjlove/icongo-tb" }
      - run: npm publish
        working-directory: icons/tb
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/ti => @jaywcjlove/icongo-ti"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/ti/package.json
          data: |
            { "name": "@jaywcjlove/icongo-ti" }
      - run: npm publish
        working-directory: icons/ti
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/tn => @jaywcjlove/icongo-tn"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/tn/package.json
          data: |
            { "name": "@jaywcjlove/icongo-tn" }
      - run: npm publish
        working-directory: icons/tn
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/vsc => @jaywcjlove/icongo-vsc"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/vsc/package.json
          data: |
            { "name": "@jaywcjlove/icongo-vsc" }
      - run: npm publish
        working-directory: icons/vsc
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/vv => @jaywcjlove/icongo-vv"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/vv/package.json
          data: |
            { "name": "@jaywcjlove/icongo-vv" }
      - run: npm publish
        working-directory: icons/vv
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/wi => @jaywcjlove/icongo-wi"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/wi/package.json
          data: |
            { "name": "@jaywcjlove/icongo-wi" }
      - run: npm publish
        working-directory: icons/wi
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/uiw => @jaywcjlove/icongo-uiw"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/uiw/package.json
          data: |
            { "name": "@jaywcjlove/icongo-uiw" }
      - run: npm publish
        working-directory: icons/uiw
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}


      - name: "Modify @icongo/vl => @jaywcjlove/icongo-vl"
        uses: jaywcjlove/github-action-package@main
        if: success() || failure()
        with:
          path: icons/vl/package.json
          data: |
            { "name": "@jaywcjlove/icongo-vl" }
      - run: npm publish
        working-directory: icons/vl
        if: success() || failure()
        env:
          NODE_AUTH_TOKEN: ${{secrets.GITHUB_TOKEN}}